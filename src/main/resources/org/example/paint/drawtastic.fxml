<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.*?>
<?import javafx.scene.Group?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.paint.controller.DrawtasticController"
            prefHeight="1300.0" prefWidth="900.0">

  <top>
    <VBox>
      <MenuBar>
        <Menu text="File">
          <MenuItem text="Save" onAction="#onSave" />
          <MenuItem text="Exit" onAction="#onExit" />
        </Menu>
      </MenuBar>

      <ToolBar>
        <HBox spacing="20" alignment="TOP_CENTER">

          <!-- Erste Spalte (Pinsel, Farben) -->
          <VBox spacing="10">
            <Label text="Pens" />
            <HBox spacing="10">
              <SplitMenuButton fx:id="pensButton">
                <tooltip>
                  <Tooltip text="Select different pen types" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true" smooth="false">
                    <Image url="@buttonIcons/pen.png" />
                  </ImageView>
                </graphic>
                <items>
                  <MenuItem fx:id="markerButton" text="Marker" />
                  <MenuItem fx:id="blurButton" text="Blur" />
                  <MenuItem fx:id="paintBrushButton" text="Paint Brush" />
                  <MenuItem fx:id="fountainPenButton" text="Fountain Pen" />
                  <MenuItem fx:id="rainbowPenButton" text="Rainbow Pen" />
                </items>
              </SplitMenuButton>

              <ColorPicker fx:id="colorPicker" prefWidth="40">
                <tooltip>
                  <Tooltip text="Choose drawing color" />
                </tooltip>
              </ColorPicker>
            </HBox>

            <TextField fx:id="brushSize" text="6" prefWidth="40">
              <tooltip>
                <Tooltip text="Brush size (numeric)" />
              </tooltip>
            </TextField>

            <Label fx:id="opacityLabel" text="Opacity" />
            <Slider fx:id="opacitySlider" max="1.0" value="1">
              <tooltip>
                <Tooltip text="Adjust brush opacity" />
              </tooltip>
            </Slider>
          </VBox>

          <Separator orientation="VERTICAL" />

          <!-- Zweite Spalte (Tools) -->
          <VBox spacing="10">
            <Label text="Tools" />
            <HBox spacing="10">
              <Button fx:id="eraserButton">
                <tooltip>
                  <Tooltip text="Erase drawing elements" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/eraserIcon.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>

              <Button fx:id="paintBucketButton">
                <tooltip>
                  <Tooltip text="Fill area with color" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/paintbucketIcon.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>

              <Button fx:id="repaintButton" text="Repaint">
                <tooltip>
                  <Tooltip text="Redraw elements with current settings" />
                </tooltip>
              </Button>
            </HBox>

            <HBox spacing="10">
              <Button fx:id="selectAndMoveButton" text="Select and move">
                <tooltip>
                  <Tooltip text="Move selected elements" />
                </tooltip>
              </Button>

              <Button fx:id="connectedSelectAndMoveButton" text="Connected select and move">
                <tooltip>
                  <Tooltip text="Move connected elements together" />
                </tooltip>
              </Button>
            </HBox>

            <HBox spacing="10">
              <Button fx:id="deleteConnectedLineButton" text="Delete Line">
                <tooltip>
                  <Tooltip text="Delete connected lines" />
                </tooltip>
              </Button>

              <Button fx:id="removeColorFromCanvasButton" text="Remove Color">
                <tooltip>
                  <Tooltip text="Erase all of selected color from canvas" />
                </tooltip>
              </Button>

              <Button fx:id="pipetteButton">
                <tooltip>
                  <Tooltip text="Pick color from canvas" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/pipetteIcon.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>

              <Button fx:id="deleteColorButton">
                <tooltip>
                  <Tooltip text="Remove picked color from canvas" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/deletepipetteIcon.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>
            </HBox>
          </VBox>

          <Separator orientation="VERTICAL" />

          <!-- Dritte Spalte (Background) -->
          <VBox spacing="10">
            <Label text="Background &amp; Effects" />
            <HBox spacing="10" alignment="CENTER_LEFT">
              <Label text="Background color:" />
              <ColorPicker fx:id="backgroundColorPicker" prefWidth="40">
                <tooltip>
                  <Tooltip text="Choose canvas background color" />
                </tooltip>
              </ColorPicker>
              <Button fx:id="transparentBackgroundButton" text="None">
                <tooltip>
                  <Tooltip text="Set background to transparent" />
                </tooltip>
              </Button>
            </HBox>
          </VBox>

          <Separator orientation="VERTICAL" />

          <!-- Vierte Spalte (Shapes & Picture) -->
          <VBox spacing="10">
            <Label text="Shapes &amp; Picture" />
            <SplitMenuButton fx:id="rectangleButton" text="Insert Rectangle">
              <tooltip>
                <Tooltip text="Insert shapes into canvas" />
              </tooltip>
              <items>
                <MenuItem fx:id="ellipseButton" text="Insert Ellipse" />
                <MenuItem fx:id="circleButton" text="Insert Circle" />
                <MenuItem fx:id="triangleButton" text="Insert Triangle" />
                <MenuItem fx:id="starButton" text="Insert Star" />
              </items>
            </SplitMenuButton>

            <SplitMenuButton fx:id="insertPicture" text="Insert Picture">
              <tooltip>
                <Tooltip text="Insert picture and apply filters" />
              </tooltip>
              <items>
                <MenuItem fx:id="sepiaFilterButton" text="Sepia Filter" />
                <MenuItem fx:id="blurFilterButton" text="Blur Filter" />
                <MenuItem fx:id="blackAndWhiteFilterButton" text="Black and White Filter" />
                <MenuItem fx:id="invertFilterButton" text="Invert Picture Filter" />
                <MenuItem fx:id="flipVerticalButton" text="Flip Picture Vertical" />
                <MenuItem fx:id="flipHorizontalButton" text="Flip Picture Horizontal" />
              </items>
            </SplitMenuButton>

            <Button fx:id="textFieldButton" text="Textfield">
              <tooltip>
                <Tooltip text="Insert text into canvas" />
              </tooltip>
            </Button>
          </VBox>

          <Separator orientation="VERTICAL" />

          <!-- FÃ¼nfte Spalte (Diverses) -->
          <VBox spacing="10">
            <Label text="Diverses" />
            <HBox spacing="10">

              <Button fx:id="undoButton">
                <tooltip>
                  <Tooltip text="Undo last action" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/undo.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>

              <Button fx:id="redoButton">
                <tooltip>
                  <Tooltip text="Redo previous action" />
                </tooltip>
                <graphic>
                  <ImageView fitWidth="24" fitHeight="24" preserveRatio="true">
                    <image>
                      <Image url="@buttonIcons/redo.png" />
                    </image>
                  </ImageView>
                </graphic>
              </Button>

              <Button fx:id="zoomInButton" text="Zoom +">
                <tooltip>
                  <Tooltip text="Zoom in" />
                </tooltip>
              </Button>

              <Button fx:id="zoomOutButton" text="Zoom -">
                <tooltip>
                  <Tooltip text="Zoom out" />
                </tooltip>
              </Button>
            </HBox>
          </VBox>
        </HBox>
      </ToolBar>
    </VBox>
  </top>

  <center>
    <ScrollPane fx:id="canvasPane">
      <Group fx:id="canvasGroup">
        <Canvas fx:id="backgroundCanvas" width="1295" height="715" />
        <Canvas fx:id="canvas" width="1295" height="715" />
        <Canvas fx:id="drawCanvas" width="1295" height="715" mouseTransparent="true"/>
        <Canvas fx:id="overlayCanvas" width="1295" height="715" mouseTransparent="true" />
      </Group>
    </ScrollPane>
  </center>

</BorderPane>
